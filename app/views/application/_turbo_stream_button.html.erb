<%
    attributes = local_assigns.with_defaults(type: "button")
    button = TurboStreamButton::Button.new(self)
%>

<%= content_tag :button, TurboStreamButton::Html.deep_merge_attributes(attributes, data: {
      controller: "turbo-stream-button",
      action: "click->turbo-stream-button#evaluate"
    }) do %>
  <%= yield button %>

  <template data-turbo-stream-button-target="turboStreams"><%= button.turbo_streams %></template>
<% end %>
